{"version":3,"sources":["../node_modules/react-contextmenu/es6/helpers.js","../node_modules/react-contextmenu/es6/actions.js","../node_modules/react-contextmenu/es6/globalEventListener.js","../node_modules/react-contextmenu/es6/MenuItem.js","../node_modules/react-contextmenu/es6/AbstractMenu.js","../node_modules/react-contextmenu/es6/SubMenu.js","../node_modules/react-contextmenu/es6/ContextMenu.js","../node_modules/react-contextmenu/es6/ContextMenuTrigger.js","../node_modules/react-contextmenu/es6/connectMenu.js","../node_modules/react-contextmenu/es6/index.js"],"names":["callIfExists","func","_len","arguments","length","args","Array","_key","apply","undefined","hasOwnProp","obj","prop","Object","prototype","hasOwnProperty","call","cssClasses","store","canUseDOM","Boolean","window","document","createElement","MENU_SHOW","MENU_HIDE","dispatchGlobalEvent","eventName","opts","target","event","CustomEvent","detail","createEvent","initCustomEvent","dispatchEvent","showMenu","type","hideMenu","GlobalEventListener","_this","this","instance","Constructor","TypeError","_classCallCheck","handleShowEvent","id","callbacks","show","handleHideEvent","hide","register","showCallback","hideCallback","Math","random","toString","substring","unregister","addEventListener","_extends","assign","i","source","key","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","_defineProperty","value","_possibleConstructorReturn","self","ReferenceError","_Component","MenuItem","_ref","_temp","__proto__","getPrototypeOf","concat","handleClick","button","preventDefault","disabled","divider","onClick","data","preventClose","subClass","superClass","create","constructor","setPrototypeOf","_inherits","_cx","_this2","_props","attributes","children","className","selected","menuItemClassNames","disabledClassName","dividerClassName","selectedClassName","role","tabIndex","ref","_ref2","onMouseMove","onMouseLeave","onTouchEnd","propTypes","object","node","string","bool","defaultProps","AbstractMenu","seletedItemRef","state","selectedItem","forceSubMenuOpen","isRequired","handleKeyNavigation","e","isVisible","keyCode","selectChildren","tryToOpenSubMenu","HTMLElement","click","handleForceClose","setState","getSubMenuType","forward","disabledChildrenCount","disabledChildIndexes","Children","forEach","childCollector","child","index","indexOf","push","nextEnabledChildIndex","currentIndex","findNextEnabledChildIndex","onChildMouseMove","onChildMouseLeave","renderChildren","map","isValidElement","cloneElement","bind","forceOpen","forceClose","parentKeyNavigationHandler","_AbstractMenu","SubMenu","getMenuPosition","_window","innerWidth","innerHeight","rect","subMenu","getBoundingClientRect","position","bottom","top","right","left","getRTLMenuPosition","hideSubMenu","menu","visible","unregisterHandlers","preventCloseOnClick","handleMouseEnter","closetimer","clearTimeout","opentimer","setTimeout","hoverDelay","handleMouseLeave","menuRef","c","subMenuRef","registerHandlers","removeEventListener","dismounting","listenId","nextProps","nextState","isVisibilityChange","requestAnimationFrame","styles","rtl","style","removeProperty","classList","add","cleanup","remove","title","menuProps","onMouseEnter","listClassName","menuItemProps","visibleClassName","onMouseOut","subMenuProps","transition","number","ContextMenu","handleOutsideClick","preventHideOnScroll","handleHide","preventHideOnContextMenu","preventHideOnResize","handleShow","_e$detail$position","x","y","onShow","onHide","contains","hideOnLeave","handleContextMenu","menuStyles","height","width","_window2","wrapper","_state","opacity","pointerEvents","inlineStyle","menuClassnames","onContextMenu","ContextMenuTrigger","touchHandled","handleMouseDown","holdToDisplay","persist","stopPropagation","mouseDownTimeoutId","handleContextClick","onMouseDown","handleMouseUp","onMouseUp","handleMouseOut","handleTouchstart","touchstartTimeoutId","onTouchStart","handleTouchEnd","mouseButton","handleMouseClick","disable","disableIfShiftIsPressed","shiftKey","clientX","touches","pageX","clientY","pageY","posX","posY","collect","showMenuConfig","elem","then","resp","elemRef","renderTag","newAttrs","oneOfType","arr","isArray","arr2","from","_toConsumableArray","keys"],"mappings":"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","file":"static/js/111.7ef253d6.chunk.js","sourcesContent":["export function callIfExists(func) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return typeof func === 'function' && func.apply(undefined, args);\n}\nexport function hasOwnProp(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\nexport function uniqueId() {\n  return Math.random().toString(36).substring(7);\n}\nexport var cssClasses = {\n  menu: 'react-contextmenu',\n  menuVisible: 'react-contextmenu--visible',\n  menuWrapper: 'react-contextmenu-wrapper',\n  menuItem: 'react-contextmenu-item',\n  menuItemActive: 'react-contextmenu-item--active',\n  menuItemDisabled: 'react-contextmenu-item--disabled',\n  menuItemDivider: 'react-contextmenu-item--divider',\n  menuItemSelected: 'react-contextmenu-item--selected',\n  subMenu: 'react-contextmenu-submenu'\n};\nexport var store = {};\nexport var canUseDOM = Boolean(typeof window !== 'undefined' && window.document && window.document.createElement);","import assign from 'object-assign';\nimport { store } from './helpers';\nexport var MENU_SHOW = 'REACT_CONTEXTMENU_SHOW';\nexport var MENU_HIDE = 'REACT_CONTEXTMENU_HIDE';\nexport function dispatchGlobalEvent(eventName, opts) {\n  var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window; // Compatibale with IE\n  // @see http://stackoverflow.com/questions/26596123/internet-explorer-9-10-11-event-constructor-doesnt-work\n\n  var event = void 0;\n\n  if (typeof window.CustomEvent === 'function') {\n    event = new window.CustomEvent(eventName, {\n      detail: opts\n    });\n  } else {\n    event = document.createEvent('CustomEvent');\n    event.initCustomEvent(eventName, false, true, opts);\n  }\n\n  if (target) {\n    target.dispatchEvent(event);\n    assign(store, opts);\n  }\n}\nexport function showMenu() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var target = arguments[1];\n  dispatchGlobalEvent(MENU_SHOW, assign({}, opts, {\n    type: MENU_SHOW\n  }), target);\n}\nexport function hideMenu() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var target = arguments[1];\n  dispatchGlobalEvent(MENU_HIDE, assign({}, opts, {\n    type: MENU_HIDE\n  }), target);\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nimport { MENU_SHOW, MENU_HIDE } from './actions';\nimport { uniqueId, hasOwnProp, canUseDOM } from './helpers';\n\nvar GlobalEventListener = function GlobalEventListener() {\n  var _this = this;\n\n  _classCallCheck(this, GlobalEventListener);\n\n  this.handleShowEvent = function (event) {\n    for (var id in _this.callbacks) {\n      if (hasOwnProp(_this.callbacks, id)) _this.callbacks[id].show(event);\n    }\n  };\n\n  this.handleHideEvent = function (event) {\n    for (var id in _this.callbacks) {\n      if (hasOwnProp(_this.callbacks, id)) _this.callbacks[id].hide(event);\n    }\n  };\n\n  this.register = function (showCallback, hideCallback) {\n    var id = uniqueId();\n    _this.callbacks[id] = {\n      show: showCallback,\n      hide: hideCallback\n    };\n    return id;\n  };\n\n  this.unregister = function (id) {\n    if (id && _this.callbacks[id]) {\n      delete _this.callbacks[id];\n    }\n  };\n\n  this.callbacks = {};\n\n  if (canUseDOM) {\n    window.addEventListener(MENU_SHOW, this.handleShowEvent);\n    window.addEventListener(MENU_HIDE, this.handleHideEvent);\n  }\n};\n\nexport default new GlobalEventListener();","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport { hideMenu } from './actions';\nimport { callIfExists, cssClasses, store } from './helpers';\n\nvar MenuItem = function (_Component) {\n  _inherits(MenuItem, _Component);\n\n  function MenuItem() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MenuItem);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = MenuItem.__proto__ || Object.getPrototypeOf(MenuItem)).call.apply(_ref, [this].concat(args))), _this), _this.handleClick = function (event) {\n      if (event.button !== 0 && event.button !== 1) {\n        event.preventDefault();\n      }\n\n      if (_this.props.disabled || _this.props.divider) return;\n      callIfExists(_this.props.onClick, event, assign({}, _this.props.data, store.data), store.target);\n      if (_this.props.preventClose) return;\n      hideMenu();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(MenuItem, [{\n    key: 'render',\n    value: function render() {\n      var _cx,\n          _this2 = this;\n\n      var _props = this.props,\n          attributes = _props.attributes,\n          children = _props.children,\n          className = _props.className,\n          disabled = _props.disabled,\n          divider = _props.divider,\n          selected = _props.selected;\n      var menuItemClassNames = cx(className, cssClasses.menuItem, attributes.className, (_cx = {}, _defineProperty(_cx, cx(cssClasses.menuItemDisabled, attributes.disabledClassName), disabled), _defineProperty(_cx, cx(cssClasses.menuItemDivider, attributes.dividerClassName), divider), _defineProperty(_cx, cx(cssClasses.menuItemSelected, attributes.selectedClassName), selected), _cx));\n      return React.createElement('div', _extends({}, attributes, {\n        className: menuItemClassNames,\n        role: 'menuitem',\n        tabIndex: '-1',\n        'aria-disabled': disabled ? 'true' : 'false',\n        'aria-orientation': divider ? 'horizontal' : null,\n        ref: function ref(_ref2) {\n          _this2.ref = _ref2;\n        },\n        onMouseMove: this.props.onMouseMove,\n        onMouseLeave: this.props.onMouseLeave,\n        onTouchEnd: this.handleClick,\n        onClick: this.handleClick\n      }), divider ? null : children);\n    }\n  }]);\n\n  return MenuItem;\n}(Component);\n\nMenuItem.propTypes = {\n  attributes: PropTypes.object,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  data: PropTypes.object,\n  disabled: PropTypes.bool,\n  divider: PropTypes.bool,\n  onClick: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  preventClose: PropTypes.bool,\n  selected: PropTypes.bool\n};\nMenuItem.defaultProps = {\n  attributes: {},\n  children: null,\n  className: '',\n  data: {},\n  disabled: false,\n  divider: false,\n  onClick: function onClick() {\n    return null;\n  },\n  onMouseMove: function onMouseMove() {\n    return null;\n  },\n  onMouseLeave: function onMouseLeave() {\n    return null;\n  },\n  preventClose: false,\n  selected: false\n};\nexport default MenuItem;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from './MenuItem';\n\nvar AbstractMenu = function (_Component) {\n  _inherits(AbstractMenu, _Component);\n\n  function AbstractMenu(props) {\n    _classCallCheck(this, AbstractMenu);\n\n    var _this = _possibleConstructorReturn(this, (AbstractMenu.__proto__ || Object.getPrototypeOf(AbstractMenu)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.seletedItemRef = null;\n    _this.state = {\n      selectedItem: null,\n      forceSubMenuOpen: false\n    };\n    return _this;\n  }\n\n  return AbstractMenu;\n}(Component);\n\nAbstractMenu.propTypes = {\n  children: PropTypes.node.isRequired\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.handleKeyNavigation = function (e) {\n    // check for isVisible strictly here as it might be undefined when this code executes in the context of SubMenu\n    // but we only need to check when it runs in the ContextMenu context\n    if (_this2.state.isVisible === false) {\n      return;\n    }\n\n    switch (e.keyCode) {\n      case 37: // left arrow\n\n      case 27:\n        // escape\n        e.preventDefault();\n\n        _this2.hideMenu(e);\n\n        break;\n\n      case 38:\n        // up arrow\n        e.preventDefault();\n\n        _this2.selectChildren(true);\n\n        break;\n\n      case 40:\n        // down arrow\n        e.preventDefault();\n\n        _this2.selectChildren(false);\n\n        break;\n\n      case 39:\n        // right arrow\n        _this2.tryToOpenSubMenu(e);\n\n        break;\n\n      case 13:\n        // enter\n        e.preventDefault();\n\n        _this2.tryToOpenSubMenu(e);\n\n        {\n          // determine the selected item is disabled or not\n          var disabled = _this2.seletedItemRef && _this2.seletedItemRef.props && _this2.seletedItemRef.props.disabled;\n\n          if (_this2.seletedItemRef && _this2.seletedItemRef.ref instanceof HTMLElement && !disabled) {\n            _this2.seletedItemRef.ref.click();\n          } else {\n            _this2.hideMenu(e);\n          }\n        }\n        break;\n\n      default: // do nothing\n\n    }\n  };\n\n  this.handleForceClose = function () {\n    _this2.setState({\n      forceSubMenuOpen: false\n    });\n  };\n\n  this.tryToOpenSubMenu = function (e) {\n    if (_this2.state.selectedItem && _this2.state.selectedItem.type === _this2.getSubMenuType()) {\n      e.preventDefault();\n\n      _this2.setState({\n        forceSubMenuOpen: true\n      });\n    }\n  };\n\n  this.selectChildren = function (forward) {\n    var selectedItem = _this2.state.selectedItem;\n    var children = [];\n    var disabledChildrenCount = 0;\n    var disabledChildIndexes = {};\n\n    var childCollector = function childCollector(child, index) {\n      // child can be empty in case you do conditional rendering of components, in which\n      // case it should not be accounted for as a real child\n      if (!child) {\n        return;\n      }\n\n      if ([MenuItem, _this2.getSubMenuType()].indexOf(child.type) < 0) {\n        // Maybe the MenuItem or SubMenu is capsuled in a wrapper div or something else\n        React.Children.forEach(child.props.children, childCollector);\n      } else if (!child.props.divider) {\n        if (child.props.disabled) {\n          ++disabledChildrenCount;\n          disabledChildIndexes[index] = true;\n        }\n\n        children.push(child);\n      }\n    };\n\n    React.Children.forEach(_this2.props.children, childCollector);\n\n    if (disabledChildrenCount === children.length) {\n      // All menu items are disabled, so none can be selected, don't do anything\n      return;\n    }\n\n    function findNextEnabledChildIndex(currentIndex) {\n      var i = currentIndex;\n\n      var incrementCounter = function incrementCounter() {\n        if (forward) {\n          --i;\n        } else {\n          ++i;\n        }\n\n        if (i < 0) {\n          i = children.length - 1;\n        } else if (i >= children.length) {\n          i = 0;\n        }\n      };\n\n      do {\n        incrementCounter();\n      } while (i !== currentIndex && disabledChildIndexes[i]);\n\n      return i === currentIndex ? null : i;\n    }\n\n    var currentIndex = children.indexOf(selectedItem);\n    var nextEnabledChildIndex = findNextEnabledChildIndex(currentIndex);\n\n    if (nextEnabledChildIndex !== null) {\n      _this2.setState({\n        selectedItem: children[nextEnabledChildIndex],\n        forceSubMenuOpen: false\n      });\n    }\n  };\n\n  this.onChildMouseMove = function (child) {\n    if (_this2.state.selectedItem !== child) {\n      _this2.setState({\n        selectedItem: child,\n        forceSubMenuOpen: false\n      });\n    }\n  };\n\n  this.onChildMouseLeave = function () {\n    _this2.setState({\n      selectedItem: null,\n      forceSubMenuOpen: false\n    });\n  };\n\n  this.renderChildren = function (children) {\n    return React.Children.map(children, function (child) {\n      var props = {};\n      if (!React.isValidElement(child)) return child;\n\n      if ([MenuItem, _this2.getSubMenuType()].indexOf(child.type) < 0) {\n        // Maybe the MenuItem or SubMenu is capsuled in a wrapper div or something else\n        props.children = _this2.renderChildren(child.props.children);\n        return React.cloneElement(child, props);\n      }\n\n      props.onMouseLeave = _this2.onChildMouseLeave.bind(_this2);\n\n      if (child.type === _this2.getSubMenuType()) {\n        // special props for SubMenu only\n        props.forceOpen = _this2.state.forceSubMenuOpen && _this2.state.selectedItem === child;\n        props.forceClose = _this2.handleForceClose;\n        props.parentKeyNavigationHandler = _this2.handleKeyNavigation;\n      }\n\n      if (!child.props.divider && _this2.state.selectedItem === child) {\n        // special props for selected item only\n        props.selected = true;\n\n        props.ref = function (ref) {\n          _this2.seletedItemRef = ref;\n        };\n\n        return React.cloneElement(child, props);\n      } // onMouseMove is only needed for non selected items\n\n\n      props.onMouseMove = function () {\n        return _this2.onChildMouseMove(child);\n      };\n\n      return React.cloneElement(child, props);\n    });\n  };\n};\n\nexport default AbstractMenu;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport { hideMenu } from './actions';\nimport AbstractMenu from './AbstractMenu';\nimport { callIfExists, cssClasses, hasOwnProp, store } from './helpers';\nimport listener from './globalEventListener';\n\nvar SubMenu = function (_AbstractMenu) {\n  _inherits(SubMenu, _AbstractMenu);\n\n  function SubMenu(props) {\n    _classCallCheck(this, SubMenu);\n\n    var _this = _possibleConstructorReturn(this, (SubMenu.__proto__ || Object.getPrototypeOf(SubMenu)).call(this, props));\n\n    _this.getMenuPosition = function () {\n      var _window = window,\n          innerWidth = _window.innerWidth,\n          innerHeight = _window.innerHeight;\n\n      var rect = _this.subMenu.getBoundingClientRect();\n\n      var position = {};\n\n      if (rect.bottom > innerHeight) {\n        position.bottom = 0;\n      } else {\n        position.top = 0;\n      }\n\n      if (rect.right < innerWidth) {\n        position.left = '100%';\n      } else {\n        position.right = '100%';\n      }\n\n      return position;\n    };\n\n    _this.getRTLMenuPosition = function () {\n      var _window2 = window,\n          innerHeight = _window2.innerHeight;\n\n      var rect = _this.subMenu.getBoundingClientRect();\n\n      var position = {};\n\n      if (rect.bottom > innerHeight) {\n        position.bottom = 0;\n      } else {\n        position.top = 0;\n      }\n\n      if (rect.left < 0) {\n        position.left = '100%';\n      } else {\n        position.right = '100%';\n      }\n\n      return position;\n    };\n\n    _this.hideSubMenu = function (e) {\n      // avoid closing submenus of a different menu tree\n      if (e.detail && e.detail.id && _this.menu && e.detail.id !== _this.menu.id) {\n        return;\n      }\n\n      if (_this.props.forceOpen) {\n        _this.props.forceClose();\n      }\n\n      _this.setState({\n        visible: false,\n        selectedItem: null\n      });\n\n      _this.unregisterHandlers();\n    };\n\n    _this.handleClick = function (event) {\n      event.preventDefault();\n      if (_this.props.disabled) return;\n      callIfExists(_this.props.onClick, event, assign({}, _this.props.data, store.data), store.target);\n      if (!_this.props.onClick || _this.props.preventCloseOnClick) return;\n      hideMenu();\n    };\n\n    _this.handleMouseEnter = function () {\n      if (_this.closetimer) clearTimeout(_this.closetimer);\n      if (_this.props.disabled || _this.state.visible) return;\n      _this.opentimer = setTimeout(function () {\n        return _this.setState({\n          visible: true,\n          selectedItem: null\n        });\n      }, _this.props.hoverDelay);\n    };\n\n    _this.handleMouseLeave = function () {\n      if (_this.opentimer) clearTimeout(_this.opentimer);\n      if (!_this.state.visible) return;\n      _this.closetimer = setTimeout(function () {\n        return _this.setState({\n          visible: false,\n          selectedItem: null\n        });\n      }, _this.props.hoverDelay);\n    };\n\n    _this.menuRef = function (c) {\n      _this.menu = c;\n    };\n\n    _this.subMenuRef = function (c) {\n      _this.subMenu = c;\n    };\n\n    _this.registerHandlers = function () {\n      document.removeEventListener('keydown', _this.props.parentKeyNavigationHandler);\n      document.addEventListener('keydown', _this.handleKeyNavigation);\n    };\n\n    _this.unregisterHandlers = function (dismounting) {\n      document.removeEventListener('keydown', _this.handleKeyNavigation);\n\n      if (!dismounting) {\n        document.addEventListener('keydown', _this.props.parentKeyNavigationHandler);\n      }\n    };\n\n    _this.state = assign({}, _this.state, {\n      visible: false\n    });\n    return _this;\n  }\n\n  _createClass(SubMenu, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.listenId = listener.register(function () {}, this.hideSubMenu);\n    }\n  }, {\n    key: 'getSubMenuType',\n    value: function getSubMenuType() {\n      // eslint-disable-line class-methods-use-this\n      return SubMenu;\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      this.isVisibilityChange = (this.state.visible !== nextState.visible || this.props.forceOpen !== nextProps.forceOpen) && !(this.state.visible && nextProps.forceOpen) && !(this.props.forceOpen && nextState.visible);\n      return true;\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      if (!this.isVisibilityChange) return;\n\n      if (this.props.forceOpen || this.state.visible) {\n        var wrapper = window.requestAnimationFrame || setTimeout;\n        wrapper(function () {\n          var styles = _this2.props.rtl ? _this2.getRTLMenuPosition() : _this2.getMenuPosition();\n\n          _this2.subMenu.style.removeProperty('top');\n\n          _this2.subMenu.style.removeProperty('bottom');\n\n          _this2.subMenu.style.removeProperty('left');\n\n          _this2.subMenu.style.removeProperty('right');\n\n          if (hasOwnProp(styles, 'top')) _this2.subMenu.style.top = styles.top;\n          if (hasOwnProp(styles, 'left')) _this2.subMenu.style.left = styles.left;\n          if (hasOwnProp(styles, 'bottom')) _this2.subMenu.style.bottom = styles.bottom;\n          if (hasOwnProp(styles, 'right')) _this2.subMenu.style.right = styles.right;\n\n          _this2.subMenu.classList.add(cssClasses.menuVisible);\n\n          _this2.registerHandlers();\n\n          _this2.setState({\n            selectedItem: null\n          });\n        });\n      } else {\n        var cleanup = function cleanup() {\n          _this2.subMenu.removeEventListener('transitionend', cleanup);\n\n          _this2.subMenu.style.removeProperty('bottom');\n\n          _this2.subMenu.style.removeProperty('right');\n\n          _this2.subMenu.style.top = 0;\n          _this2.subMenu.style.left = '100%';\n\n          _this2.unregisterHandlers();\n        };\n\n        this.subMenu.addEventListener('transitionend', cleanup);\n        this.subMenu.classList.remove(cssClasses.menuVisible);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.listenId) {\n        listener.unregister(this.listenId);\n      }\n\n      if (this.opentimer) clearTimeout(this.opentimer);\n      if (this.closetimer) clearTimeout(this.closetimer);\n      this.unregisterHandlers(true);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _cx;\n\n      var _props = this.props,\n          children = _props.children,\n          attributes = _props.attributes,\n          disabled = _props.disabled,\n          title = _props.title,\n          selected = _props.selected;\n      var visible = this.state.visible;\n      var menuProps = {\n        ref: this.menuRef,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        className: cx(cssClasses.menuItem, cssClasses.subMenu, attributes.listClassName),\n        style: {\n          position: 'relative'\n        }\n      };\n      var menuItemProps = {\n        className: cx(cssClasses.menuItem, attributes.className, (_cx = {}, _defineProperty(_cx, cx(cssClasses.menuItemDisabled, attributes.disabledClassName), disabled), _defineProperty(_cx, cx(cssClasses.menuItemActive, attributes.visibleClassName), visible), _defineProperty(_cx, cx(cssClasses.menuItemSelected, attributes.selectedClassName), selected), _cx)),\n        onMouseMove: this.props.onMouseMove,\n        onMouseOut: this.props.onMouseOut,\n        onClick: this.handleClick\n      };\n      var subMenuProps = {\n        ref: this.subMenuRef,\n        style: {\n          position: 'absolute',\n          transition: 'opacity 1ms',\n          // trigger transitionend event\n          top: 0,\n          left: '100%'\n        },\n        className: cx(cssClasses.menu, this.props.className)\n      };\n      return React.createElement('nav', _extends({}, menuProps, {\n        role: 'menuitem',\n        tabIndex: '-1',\n        'aria-haspopup': 'true'\n      }), React.createElement('div', _extends({}, attributes, menuItemProps), title), React.createElement('nav', _extends({}, subMenuProps, {\n        role: 'menu',\n        tabIndex: '-1'\n      }), this.renderChildren(children)));\n    }\n  }]);\n\n  return SubMenu;\n}(AbstractMenu);\n\nSubMenu.propTypes = {\n  children: PropTypes.node.isRequired,\n  attributes: PropTypes.object,\n  title: PropTypes.node.isRequired,\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n  hoverDelay: PropTypes.number,\n  rtl: PropTypes.bool,\n  selected: PropTypes.bool,\n  onMouseMove: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  forceOpen: PropTypes.bool,\n  forceClose: PropTypes.func,\n  parentKeyNavigationHandler: PropTypes.func\n};\nSubMenu.defaultProps = {\n  disabled: false,\n  hoverDelay: 500,\n  attributes: {},\n  className: '',\n  rtl: false,\n  selected: false,\n  onMouseMove: function onMouseMove() {\n    return null;\n  },\n  onMouseOut: function onMouseOut() {\n    return null;\n  },\n  forceOpen: false,\n  forceClose: function forceClose() {\n    return null;\n  },\n  parentKeyNavigationHandler: function parentKeyNavigationHandler() {\n    return null;\n  }\n};\nexport default SubMenu;","var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport listener from './globalEventListener';\nimport AbstractMenu from './AbstractMenu';\nimport SubMenu from './SubMenu';\nimport { hideMenu } from './actions';\nimport { cssClasses, callIfExists, store } from './helpers';\n\nvar ContextMenu = function (_AbstractMenu) {\n  _inherits(ContextMenu, _AbstractMenu);\n\n  function ContextMenu(props) {\n    _classCallCheck(this, ContextMenu);\n\n    var _this = _possibleConstructorReturn(this, (ContextMenu.__proto__ || Object.getPrototypeOf(ContextMenu)).call(this, props));\n\n    _this.registerHandlers = function () {\n      document.addEventListener('mousedown', _this.handleOutsideClick);\n      document.addEventListener('touchstart', _this.handleOutsideClick);\n      if (!_this.props.preventHideOnScroll) document.addEventListener('scroll', _this.handleHide);\n      if (!_this.props.preventHideOnContextMenu) document.addEventListener('contextmenu', _this.handleHide);\n      document.addEventListener('keydown', _this.handleKeyNavigation);\n      if (!_this.props.preventHideOnResize) window.addEventListener('resize', _this.handleHide);\n    };\n\n    _this.unregisterHandlers = function () {\n      document.removeEventListener('mousedown', _this.handleOutsideClick);\n      document.removeEventListener('touchstart', _this.handleOutsideClick);\n      document.removeEventListener('scroll', _this.handleHide);\n      document.removeEventListener('contextmenu', _this.handleHide);\n      document.removeEventListener('keydown', _this.handleKeyNavigation);\n      window.removeEventListener('resize', _this.handleHide);\n    };\n\n    _this.handleShow = function (e) {\n      if (e.detail.id !== _this.props.id || _this.state.isVisible) return;\n      var _e$detail$position = e.detail.position,\n          x = _e$detail$position.x,\n          y = _e$detail$position.y;\n\n      _this.setState({\n        isVisible: true,\n        x: x,\n        y: y\n      });\n\n      _this.registerHandlers();\n\n      callIfExists(_this.props.onShow, e);\n    };\n\n    _this.handleHide = function (e) {\n      if (_this.state.isVisible && (!e.detail || !e.detail.id || e.detail.id === _this.props.id)) {\n        _this.unregisterHandlers();\n\n        _this.setState({\n          isVisible: false,\n          selectedItem: null,\n          forceSubMenuOpen: false\n        });\n\n        callIfExists(_this.props.onHide, e);\n      }\n    };\n\n    _this.handleOutsideClick = function (e) {\n      if (!_this.menu.contains(e.target)) hideMenu();\n    };\n\n    _this.handleMouseLeave = function (event) {\n      event.preventDefault();\n      callIfExists(_this.props.onMouseLeave, event, assign({}, _this.props.data, store.data), store.target);\n      if (_this.props.hideOnLeave) hideMenu();\n    };\n\n    _this.handleContextMenu = function (e) {\n      if (process.env.NODE_ENV === 'production') {\n        e.preventDefault();\n      }\n\n      _this.handleHide(e);\n    };\n\n    _this.hideMenu = function (e) {\n      if (e.keyCode === 27 || e.keyCode === 13) {\n        // ECS or enter\n        hideMenu();\n      }\n    };\n\n    _this.getMenuPosition = function () {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var menuStyles = {\n        top: y,\n        left: x\n      };\n      if (!_this.menu) return menuStyles;\n      var _window = window,\n          innerWidth = _window.innerWidth,\n          innerHeight = _window.innerHeight;\n\n      var rect = _this.menu.getBoundingClientRect();\n\n      if (y + rect.height > innerHeight) {\n        menuStyles.top -= rect.height;\n      }\n\n      if (x + rect.width > innerWidth) {\n        menuStyles.left -= rect.width;\n      }\n\n      if (menuStyles.top < 0) {\n        menuStyles.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n      }\n\n      if (menuStyles.left < 0) {\n        menuStyles.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n      }\n\n      return menuStyles;\n    };\n\n    _this.getRTLMenuPosition = function () {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var menuStyles = {\n        top: y,\n        left: x\n      };\n      if (!_this.menu) return menuStyles;\n      var _window2 = window,\n          innerWidth = _window2.innerWidth,\n          innerHeight = _window2.innerHeight;\n\n      var rect = _this.menu.getBoundingClientRect(); // Try to position the menu on the left side of the cursor\n\n\n      menuStyles.left = x - rect.width;\n\n      if (y + rect.height > innerHeight) {\n        menuStyles.top -= rect.height;\n      }\n\n      if (menuStyles.left < 0) {\n        menuStyles.left += rect.width;\n      }\n\n      if (menuStyles.top < 0) {\n        menuStyles.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n      }\n\n      if (menuStyles.left + rect.width > innerWidth) {\n        menuStyles.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n      }\n\n      return menuStyles;\n    };\n\n    _this.menuRef = function (c) {\n      _this.menu = c;\n    };\n\n    _this.state = assign({}, _this.state, {\n      x: 0,\n      y: 0,\n      isVisible: false\n    });\n    return _this;\n  }\n\n  _createClass(ContextMenu, [{\n    key: 'getSubMenuType',\n    value: function getSubMenuType() {\n      // eslint-disable-line class-methods-use-this\n      return SubMenu;\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.listenId = listener.register(this.handleShow, this.handleHide);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      var wrapper = window.requestAnimationFrame || setTimeout;\n\n      if (this.state.isVisible) {\n        wrapper(function () {\n          var _state = _this2.state,\n              x = _state.x,\n              y = _state.y;\n\n          var _ref = _this2.props.rtl ? _this2.getRTLMenuPosition(x, y) : _this2.getMenuPosition(x, y),\n              top = _ref.top,\n              left = _ref.left;\n\n          wrapper(function () {\n            if (!_this2.menu) return;\n            _this2.menu.style.top = top + 'px';\n            _this2.menu.style.left = left + 'px';\n            _this2.menu.style.opacity = 1;\n            _this2.menu.style.pointerEvents = 'auto';\n          });\n        });\n      } else {\n        wrapper(function () {\n          if (!_this2.menu) return;\n          _this2.menu.style.opacity = 0;\n          _this2.menu.style.pointerEvents = 'none';\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.listenId) {\n        listener.unregister(this.listenId);\n      }\n\n      this.unregisterHandlers();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          style = _props.style;\n      var isVisible = this.state.isVisible;\n      var inlineStyle = assign({}, style, {\n        position: 'fixed',\n        opacity: 0,\n        pointerEvents: 'none'\n      });\n      var menuClassnames = cx(cssClasses.menu, className, _defineProperty({}, cssClasses.menuVisible, isVisible));\n      return React.createElement('nav', {\n        role: 'menu',\n        tabIndex: '-1',\n        ref: this.menuRef,\n        style: inlineStyle,\n        className: menuClassnames,\n        onContextMenu: this.handleContextMenu,\n        onMouseLeave: this.handleMouseLeave\n      }, this.renderChildren(children));\n    }\n  }]);\n\n  return ContextMenu;\n}(AbstractMenu);\n\nContextMenu.propTypes = {\n  id: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  data: PropTypes.object,\n  className: PropTypes.string,\n  hideOnLeave: PropTypes.bool,\n  rtl: PropTypes.bool,\n  onHide: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onShow: PropTypes.func,\n  preventHideOnContextMenu: PropTypes.bool,\n  preventHideOnResize: PropTypes.bool,\n  preventHideOnScroll: PropTypes.bool,\n  style: PropTypes.object\n};\nContextMenu.defaultProps = {\n  className: '',\n  data: {},\n  hideOnLeave: false,\n  rtl: false,\n  onHide: function onHide() {\n    return null;\n  },\n  onMouseLeave: function onMouseLeave() {\n    return null;\n  },\n  onShow: function onShow() {\n    return null;\n  },\n  preventHideOnContextMenu: false,\n  preventHideOnResize: false,\n  preventHideOnScroll: false,\n  style: {}\n};\nexport default ContextMenu;","var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport { showMenu, hideMenu } from './actions';\nimport { callIfExists, cssClasses } from './helpers';\n\nvar ContextMenuTrigger = function (_Component) {\n  _inherits(ContextMenuTrigger, _Component);\n\n  function ContextMenuTrigger() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ContextMenuTrigger);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ContextMenuTrigger.__proto__ || Object.getPrototypeOf(ContextMenuTrigger)).call.apply(_ref, [this].concat(args))), _this), _this.touchHandled = false, _this.handleMouseDown = function (event) {\n      if (_this.props.holdToDisplay >= 0 && event.button === 0) {\n        event.persist();\n        event.stopPropagation();\n        _this.mouseDownTimeoutId = setTimeout(function () {\n          return _this.handleContextClick(event);\n        }, _this.props.holdToDisplay);\n      }\n\n      callIfExists(_this.props.attributes.onMouseDown, event);\n    }, _this.handleMouseUp = function (event) {\n      if (event.button === 0) {\n        clearTimeout(_this.mouseDownTimeoutId);\n      }\n\n      callIfExists(_this.props.attributes.onMouseUp, event);\n    }, _this.handleMouseOut = function (event) {\n      if (event.button === 0) {\n        clearTimeout(_this.mouseDownTimeoutId);\n      }\n\n      callIfExists(_this.props.attributes.onMouseOut, event);\n    }, _this.handleTouchstart = function (event) {\n      _this.touchHandled = false;\n\n      if (_this.props.holdToDisplay >= 0) {\n        event.persist();\n        event.stopPropagation();\n        _this.touchstartTimeoutId = setTimeout(function () {\n          _this.handleContextClick(event);\n\n          _this.touchHandled = true;\n        }, _this.props.holdToDisplay);\n      }\n\n      callIfExists(_this.props.attributes.onTouchStart, event);\n    }, _this.handleTouchEnd = function (event) {\n      if (_this.touchHandled) {\n        event.preventDefault();\n      }\n\n      clearTimeout(_this.touchstartTimeoutId);\n      callIfExists(_this.props.attributes.onTouchEnd, event);\n    }, _this.handleContextMenu = function (event) {\n      if (event.button === _this.props.mouseButton) {\n        _this.handleContextClick(event);\n      }\n\n      callIfExists(_this.props.attributes.onContextMenu, event);\n    }, _this.handleMouseClick = function (event) {\n      if (event.button === _this.props.mouseButton) {\n        _this.handleContextClick(event);\n      }\n\n      callIfExists(_this.props.attributes.onClick, event);\n    }, _this.handleContextClick = function (event) {\n      if (_this.props.disable) return;\n      if (_this.props.disableIfShiftIsPressed && event.shiftKey) return;\n      event.preventDefault();\n      event.stopPropagation();\n      var x = event.clientX || event.touches && event.touches[0].pageX;\n      var y = event.clientY || event.touches && event.touches[0].pageY;\n\n      if (_this.props.posX) {\n        x -= _this.props.posX;\n      }\n\n      if (_this.props.posY) {\n        y -= _this.props.posY;\n      }\n\n      hideMenu();\n      var data = callIfExists(_this.props.collect, _this.props);\n      var showMenuConfig = {\n        position: {\n          x: x,\n          y: y\n        },\n        target: _this.elem,\n        id: _this.props.id\n      };\n\n      if (data && typeof data.then === 'function') {\n        // it's promise\n        data.then(function (resp) {\n          showMenuConfig.data = assign({}, resp, {\n            target: event.target\n          });\n          showMenu(showMenuConfig);\n        });\n      } else {\n        showMenuConfig.data = assign({}, data, {\n          target: event.target\n        });\n        showMenu(showMenuConfig);\n      }\n    }, _this.elemRef = function (c) {\n      _this.elem = c;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(ContextMenuTrigger, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          renderTag = _props.renderTag,\n          attributes = _props.attributes,\n          children = _props.children;\n      var newAttrs = assign({}, attributes, {\n        className: cx(cssClasses.menuWrapper, attributes.className),\n        onContextMenu: this.handleContextMenu,\n        onClick: this.handleMouseClick,\n        onMouseDown: this.handleMouseDown,\n        onMouseUp: this.handleMouseUp,\n        onTouchStart: this.handleTouchstart,\n        onTouchEnd: this.handleTouchEnd,\n        onMouseOut: this.handleMouseOut,\n        ref: this.elemRef\n      });\n      return React.createElement(renderTag, newAttrs, children);\n    }\n  }]);\n\n  return ContextMenuTrigger;\n}(Component);\n\nContextMenuTrigger.propTypes = {\n  id: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  attributes: PropTypes.object,\n  collect: PropTypes.func,\n  disable: PropTypes.bool,\n  holdToDisplay: PropTypes.number,\n  posX: PropTypes.number,\n  posY: PropTypes.number,\n  renderTag: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  mouseButton: PropTypes.number,\n  disableIfShiftIsPressed: PropTypes.bool\n};\nContextMenuTrigger.defaultProps = {\n  attributes: {},\n  collect: function collect() {\n    return null;\n  },\n  disable: false,\n  holdToDisplay: 1000,\n  renderTag: 'div',\n  posX: 0,\n  posY: 0,\n  mouseButton: 2,\n  // 0 is left click, 2 is right click\n  disableIfShiftIsPressed: false\n};\nexport default ContextMenuTrigger;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nimport React, { Component } from 'react';\nimport ContextMenuTrigger from './ContextMenuTrigger';\nimport listener from './globalEventListener'; // collect ContextMenuTrigger's expected props to NOT pass them on as part of the context\n\nvar ignoredTriggerProps = [].concat(_toConsumableArray(Object.keys(ContextMenuTrigger.propTypes)), ['children']); // expect the id of the menu to be responsible for as outer parameter\n\nexport default function (menuId) {\n  // expect menu component to connect as inner parameter\n  // <Child/> is presumably a wrapper of <ContextMenu/>\n  return function connect(Child) {\n    // return wrapper for <Child/> that forwards the ContextMenuTrigger's additional props\n    return function (_Component) {\n      _inherits(ConnectMenu, _Component);\n\n      function ConnectMenu(props) {\n        _classCallCheck(this, ConnectMenu);\n\n        var _this = _possibleConstructorReturn(this, (ConnectMenu.__proto__ || Object.getPrototypeOf(ConnectMenu)).call(this, props));\n\n        _this.handleShow = function (e) {\n          if (e.detail.id !== menuId) return; // the onShow event's detail.data object holds all ContextMenuTrigger props\n\n          var data = e.detail.data;\n          var filteredData = {};\n\n          for (var key in data) {\n            // exclude props the ContextMenuTrigger is expecting itself\n            if (!ignoredTriggerProps.includes(key)) {\n              filteredData[key] = data[key];\n            }\n          }\n\n          _this.setState({\n            trigger: filteredData\n          });\n        };\n\n        _this.handleHide = function () {\n          _this.setState({\n            trigger: null\n          });\n        };\n\n        _this.state = {\n          trigger: null\n        };\n        return _this;\n      }\n\n      _createClass(ConnectMenu, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          this.listenId = listener.register(this.handleShow, this.handleHide);\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          if (this.listenId) {\n            listener.unregister(this.listenId);\n          }\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          return React.createElement(Child, _extends({}, this.props, {\n            id: menuId,\n            trigger: this.state.trigger\n          }));\n        }\n      }]);\n\n      return ConnectMenu;\n    }(Component);\n  };\n}","export { default as ContextMenu } from './ContextMenu';\nexport { default as ContextMenuTrigger } from './ContextMenuTrigger';\nexport { default as MenuItem } from './MenuItem';\nexport { default as SubMenu } from './SubMenu';\nexport { default as connectMenu } from './connectMenu';\nexport { hideMenu, showMenu } from './actions';"],"sourceRoot":""}